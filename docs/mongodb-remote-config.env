# MongoDB Remote Server Configuration
# =============================================================================
# This file contains the MongoDB connection details for the remote database.
# 
# SECURITY WARNING: This file contains sensitive credentials.
# - DO NOT commit this file to version control
# - Add to .gitignore
# - Store securely in production environments
# - Use environment-specific configurations
# =============================================================================

# Remote MongoDB Server Details
# -----------------------------------------------------------------------------
MONGODB_HOST=129.154.246.226
MONGODB_PORT=27017
MONGODB_USERNAME=admin
MONGODB_PASSWORD=StrongPassword123!
MONGODB_AUTH_SOURCE=admin

# Database Names
# -----------------------------------------------------------------------------
# Main database for inventory, orders, and shopify integration
MONGODB_DATABASE_SHOPIFY=shopify-orders

# Quote application database
MONGODB_DATABASE_QUOTE=quoteapp

# Purchase orders database
MONGODB_DATABASE_PURCHASE=purchase_app

# Operations database
MONGODB_DATABASE_OPERATIONS=oplex-operations

# Workspace file uploads tracking
MONGODB_DATABASE_WORKSPACE=meddeygo-workspace

# AI SEO content database
MONGODB_DATABASE_AI_SEO=ai-seo-strategist

# Inventory management database
MONGODB_DATABASE_INVENTORY=inventory-management

# Connection String Format
# -----------------------------------------------------------------------------
# Full connection strings (constructed from above values):

# Main MongoDB connection for shopify-orders:
# mongodb://admin:StrongPassword123!@129.154.246.226:27017/shopify-orders?authSource=admin

# Quote app connection:
# mongodb://admin:StrongPassword123!@129.154.246.226:27017/quoteapp?authSource=admin

# Inventory connection:
# mongodb://admin:StrongPassword123!@129.154.246.226:27017/shopify-orders?authSource=admin

# Connection Parameters
# -----------------------------------------------------------------------------
MONGODB_USE_NEW_URL_PARSER=true
MONGODB_USE_UNIFIED_TOPOLOGY=true
MONGODB_SERVER_SELECTION_TIMEOUT=5000
MONGODB_SOCKET_TIMEOUT=45000

# Migration Information
# -----------------------------------------------------------------------------
# Migration Date: November 18, 2025
# Migrated From: mongodb://localhost:27017
# Total Documents Migrated: 19,609
# Total Databases: 7
# Total Collections: 49

# Databases Migrated:
# - shopify-orders (3.18 MB, 15 collections, 3,488 documents)
# - quoteapp (1.05 MB, 5 collections, 5,647 documents)
# - purchase_app (1.45 MB, 3 collections, 9,579 documents)
# - oplex-operations (0.50 MB, 6 collections, 332 documents)
# - ai-seo-strategist (0.03 MB, 2 collections, 0 documents)
# - inventory-management (0.02 MB, 1 collection, 0 documents)
# - meddeygo-workspace (0.02 MB, 2 collections, 0 documents)

# Applications Using This Configuration
# -----------------------------------------------------------------------------
# 1. Inventory Management System (tools/inventory-management)
# 2. Quote Generator (tools/quote-app)
# 3. Order ID Extractor (tools/order-id-extractor)
# 4. Purchase App (purchase_app)
# 5. Upload Tracker (src/lib/upload-tracker.mjs)
# 6. AI SEO Strategist (tools/ai-seo-strategist)

# Verification Commands
# -----------------------------------------------------------------------------
# Test connection:
# node verify-mongodb-remote.js

# Test specific database:
# node test-mongo.js
# node test-quote-server.js

# Run migration (if needed):
# node migrate-mongodb.js

# Security Best Practices
# -----------------------------------------------------------------------------
# 1. Use environment-specific configuration files
# 2. Store production credentials in secure vault (e.g., AWS Secrets Manager)
# 3. Enable SSL/TLS for production connections
# 4. Implement IP whitelisting on MongoDB server
# 5. Use strong passwords (20+ characters, alphanumeric + special chars)
# 6. Rotate credentials regularly
# 7. Use read-only credentials for read-only operations
# 8. Enable MongoDB audit logging
# 9. Implement connection pooling limits
# 10. Monitor connection metrics and set up alerts

# Production Recommendations
# -----------------------------------------------------------------------------
# For production deployments, use this format:
# MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority&ssl=true

# Or for self-hosted with SSL:
# MONGODB_URI=mongodb://<username>:<password>@<host>:<port>/<database>?authSource=admin&ssl=true&sslValidate=true

# Enable additional security parameters:
# - authMechanism=SCRAM-SHA-256 (or SCRAM-SHA-1)
# - maxPoolSize=10 (limit connections)
# - minPoolSize=2 (maintain minimum connections)
# - serverSelectionTimeoutMS=5000
# - connectTimeoutMS=10000
# - socketTimeoutMS=45000

# Backup Information
# -----------------------------------------------------------------------------
# Regular backups should be performed on the remote server
# Recommended backup schedule:
# - Daily incremental backups
# - Weekly full backups
# - Monthly archival backups
# - Test restore procedures quarterly

# Monitoring
# -----------------------------------------------------------------------------
# Monitor these metrics:
# - Connection pool usage
# - Query response times
# - Database size growth
# - Index usage and efficiency
# - Replication lag (if using replica sets)
# - Server CPU/Memory/Disk usage

# Troubleshooting
# -----------------------------------------------------------------------------
# If connections fail:
# 1. Check network connectivity: ping 129.154.246.226
# 2. Verify port is open: telnet 129.154.246.226 27017
# 3. Check credentials are correct
# 4. Verify authSource=admin is included
# 5. Check MongoDB service is running
# 6. Review MongoDB logs on server
# 7. Check firewall rules
# 8. Verify IP is whitelisted

# Support Contacts
# -----------------------------------------------------------------------------
# Database Administrator: [Add contact info]
# DevOps Team: [Add contact info]
# Emergency Contact: [Add contact info]
